<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SATORI — Seamless Demo</title>
  <style>
    /* ——— Base ——— */
    :root { --nav-h: 72px; }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; background: #000; color: #fff; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
    }

    /* ——— Nav ——— */
    nav {
      position: fixed; top: 0; left: 0; right: 0; height: var(--nav-h);
      display: flex; align-items: center; justify-content: center; gap: 40px;
      padding: 0 20px; background: rgba(15,15,15,0.9); backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.08); z-index: 1000;
    }
    .brand { position: absolute; left: 20px; letter-spacing: 0.14em; }
    .brand b { font-weight: 700; }
    .tab {
      cursor: pointer; text-decoration: none; color: #fff; opacity: 0.8; padding: 6px 2px;
      transition: opacity .2s ease, transform .2s ease, border-color .2s ease;
      border-bottom: 2px solid transparent;
    }
    .tab:hover { opacity: 1; transform: translateY(-1px); }
    .tab.active { opacity: 1; border-color: #d4af37; } /* champagne gold underline */

    /* ——— Stage (iframe area) ——— */
    .stage {
      position: relative;
      width: 100%;
      height: calc(100vh - var(--nav-h));
      margin-top: var(--nav-h);
      overflow: hidden;
      background: #000;
    }
    iframe {
      position: absolute; inset: 0; width: 100%; height: 100%;
      border: 0; opacity: 0; transition: opacity .35s ease;
    }
    iframe.ready { opacity: 1; }

    /* ——— Loading veil ——— */
    .veil {
      position: absolute; inset: 0; background: #000;
      display: grid; place-items: center; z-index: 2; opacity: 1; transition: opacity .35s ease;
    }
    .veil.hide { opacity: 0; pointer-events: none; }
    .spinner {
      width: 28px; height: 28px; border: 2px solid rgba(255,255,255,0.25);
      border-top-color: #fff; border-radius: 50%; animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* ——— Small screens ——— */
    @media (max-width: 640px) {
      nav { gap: 18px; }
      .brand { position: static; margin-right: auto; }
    }
  </style>
</head>
<body>
  <!-- NAV -->
  <nav>
    <div class="brand"><b>SATORI</b></div>
    <a class="tab active" id="tab-watch"    onclick="loadDemo('watch')"    >Watch&nbsp;&amp;&nbsp;Shop</a>
    <a class="tab"         id="tab-creators" onclick="loadDemo('creators')" >Creators</a>
    <a class="tab"         id="tab-world"    onclick="loadDemo('world')"    >World</a>
  </nav>

  <!-- STAGE -->
  <div class="stage">
    <div class="veil" id="veil"><div class="spinner" aria-hidden="true"></div></div>
    <iframe id="demoFrame"
            title="SATORI Demo"
            src="https://cinematic-style-flow.lovable.app"
            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture; web-share"
            referrerpolicy="no-referrer-when-downgrade">
      <!-- Fallback if iframes are blocked -->
      <p>Your browser can’t display the demo. Open it directly:
        <a href="https://cinematic-style-flow.lovable.app" target="_blank" rel="noopener noreferrer">
          https://cinematic-style-flow.lovable.app
        </a>
      </p>
    </iframe>
  </div>

  <script>
    // Map sections to your Lovable demos
    const LINKS = {
      watch:    "https://cinematic-style-flow.lovable.app",
      creators: "https://satori-creator-sanctuary.lovable.app",
      world:    "https://satori-playhouse.lovable.app",
    };

    const frame = document.getElementById('demoFrame');
    const veil  = document.getElementById('veil');

    // Mark iframe as ready once it loads
    frame.addEventListener('load', () => {
      // small delay for a smoother reveal
      setTimeout(() => {
        frame.classList.add('ready');
        veil.classList.add('hide');
      }, 120);
    });

    // Tab switching
    function setActive(tabId) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.getElementById(`tab-${tabId}`).classList.add('active');
    }

    function loadDemo(section) {
      const url = LINKS[section];
      if (!url) return;

      // show loading veil + fade out current frame
      frame.classList.remove('ready');
      veil.classList.remove('hide');

      // swap src
      frame.src = url;

      // set active tab
      setActive(section);
    }

    // Keyboard shortcuts (Cmd/Ctrl+1/2/3)
    document.addEventListener('keydown', (e) => {
      const cmdOrCtrl = e.metaKey || e.ctrlKey;
      if (!cmdOrCtrl) return;
      if (e.key === '1') loadDemo('watch');
      if (e.key === '2') loadDemo('creators');
      if (e.key === '3') loadDemo('world');
    });
  </script>
</body>
</html>
